{"version":3,"file":"recognise.js","sources":["pages/user/recognise/recognise.vue","../HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9yZWNvZ25pc2UvcmVjb2duaXNlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"page_top_background\"></view>\r\n\t\t<CustomNavBar title=\"企业认证\"></CustomNavBar>\r\n\t\t<view class=\"settings\">\r\n\t\t\t<uni-forms :model=\"formData\" :rules=\"rules\" ref=\"formRef\">\r\n\t\t\t\t<!-- 企业LOGO -->\r\n\t\t\t\t<uni-forms-item label=\"企业LOGO\" label-width=\"50\" name=\"logo\">\r\n\t\t\t\t\t<view class=\"logo\" @click=\"chooseLogo\">\r\n\t\t\t\t\t\t<view class=\"logo_pic\">\r\n\t\t\t\t\t\t\t<image v-if=\"formData.logo\" :src=\"formData.logo\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view v-else class=\"placeholder\">+</view>\r\n\t\t\t\t\t\t\t<view v-if=\"formData.logo\" class=\"delete-btn\" @click.stop=\"deleteImage('logo')\">×</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right_arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<!-- 企业名称 -->\r\n\t\t\t\t<uni-forms-item label=\"企业名称\" name=\"companyName\">\r\n\t\t\t\t\t<uni-easyinput v-model=\"formData.companyName\" placeholder=\"请输入企业名称\" />\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<!-- 业务范围 -->\r\n\t\t\t\t<uni-forms-item label=\"业务范围\" name=\"businessScope\">\r\n\t\t\t\t\t<uni-data-select v-model=\"formData.businessScope\" :localdata=\"businessScopes\"\r\n\t\t\t\t\t\t@change=\"change\"></uni-data-select>\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<!-- 营业执照 -->\r\n\t\t\t\t<uni-forms-item label=\"营业执照\" name=\"license\">\r\n\t\t\t\t\t<view class=\"zhizhao\" @click=\"chooseLicense\">\r\n\t\t\t\t\t\t<view class=\"certificate\">\r\n\t\t\t\t\t\t\t<image v-if=\"formData.license\" :src=\"formData.license\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view v-else class=\"placeholder\">点击上传</view>\r\n\t\t\t\t\t\t\t<view v-if=\"formData.license\" class=\"delete-btn\" @click.stop=\"deleteImage('license')\">×\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right_arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<!-- 对公账户 -->\r\n\t\t\t\t<uni-forms-item label=\"对公账户\" name=\"accountNumber\">\r\n\t\t\t\t\t<uni-easyinput v-model=\"formData.accountNumber\" placeholder=\"请输入对公账号\" />\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<!-- 对公账户地址 -->\r\n\t\t\t\t<uni-forms-item label=\"对公账户地址\" name=\"accountAddress\">\r\n\t\t\t\t\t<uni-easyinput v-model=\"formData.accountAddress\" placeholder=\"请输入开户行地址\" />\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t</uni-forms>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"button_area\">\r\n\t\t\t<button @click=\"resetForm\">取消</button>\r\n\t\t\t<button @click=\"submitForm\">确认</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\r\n\timport {\r\n\t\tuseVerifyStore\r\n\t} from '../../../store/verify'\r\n\tconst verifyStore = useVerifyStore()\r\n\tconst chooseLogo = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsizeType: ['compressed'],\r\n\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\t// 实际项目中这里应该上传到服务器\r\n\t\t\t\tformData.value.logo = res.tempFilePaths[0]\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.error('选择LOGO失败:', err)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '选择图片失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst chooseLicense = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsizeType: ['compressed'],\r\n\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\t// 实际项目中这里应该上传到服务器\r\n\t\t\t\tformData.value.license = res.tempFilePaths[0]\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.error('选择营业执照失败:', err)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '选择图片失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除图片\r\n\tconst deleteImage = (type) => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '提示',\r\n\t\t\tcontent: `确定要删除${type === 'logo' ? 'LOGO' : '营业执照'}吗?`,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tformData.value[type] = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tconst formRef = ref()\r\n\r\n\t// 表单数据\r\n\tconst formData = ref({\r\n\t\tlogo: '',\r\n\t\tcompanyName: '',\r\n\t\tbusinessScope: null,\r\n\t\tlicense: '',\r\n\t\taccountNumber: '',\r\n\t\taccountAddress: ''\r\n\t})\r\n\r\n\t// 业务范围选项\r\n\tconst businessScopes = ref([{\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: \"电子商务\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: \"金融服务\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 3,\r\n\t\t\ttext: \"软件开发\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 4,\r\n\t\t\ttext: \"教育培训\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 5,\r\n\t\t\ttext: \"医疗健康\"\r\n\t\t}\r\n\t])\r\n\r\n\t// 验证规则 - 修正版\r\n\tconst rules = {\r\n\t\tlogo: {\r\n\t\t\trules: [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: '请上传企业LOGO'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tcompanyName: {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: '请输入企业名称'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidate: (value) => {\r\n\t\t\t\t\t\tif (!value) return true\r\n\t\t\t\t\t\tif (value.length > 20) {\r\n\t\t\t\t\t\t\treturn '企业名称不超过20个字'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (/^[a-zA-Z\\s]+$/.test(value)) {\r\n\t\t\t\t\t\t\treturn '企业名称不能全是英文'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tbusinessScope: {\r\n\t\t\trules: [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: '请选择业务范围'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tlicense: {\r\n\t\t\trules: [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: '请上传营业执照'\r\n\t\t\t}]\r\n\t\t},\r\n\t\taccountNumber: {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: '请输入对公账号'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpattern: /^\\d{16,20}$/,\r\n\t\t\t\t\terrorMessage: '账号应为16-20位数字'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\taccountAddress: {\r\n\t\t\trules: [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: '请输入开户行地址'\r\n\t\t\t}]\r\n\t\t}\r\n\t}\r\n\r\n\t// 提交表单\r\n\tconst submitForm = async () => {\r\n\t\ttry {\r\n\t\t\t// 验证表单\r\n\t\t\tconst validate = await formRef.value.validate()\r\n\t\t\tconsole.log('验证通过', validate)\r\n\r\n\t\t\t// 提交逻辑\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '提交成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t\tverifyStore.ifVerify = true\r\n\t\t\tuni.navigateBack()\r\n\t\t\tconsole.log('表单数据:', formData.value)\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('表单验证失败:', err)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: err[0].errorMessage,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 重置表单\r\n\tconst resetForm = () => {\r\n\t\tformData.value = \"\"\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '已重置',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.right_arrow {\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\t\tborder-bottom: 4rpx solid #000;\r\n\t\tborder-right: 4rpx solid #000;\r\n\t\ttransform: rotate(-45deg);\r\n\t}\r\n\r\n\t// logo部分\r\n\t.zhizhao,\r\n\t.logo {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t\tgap: 16rpx;\r\n\r\n\t\t.certificate,\r\n\t\t.logo_pic {\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.certificate {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 90rpx;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t}\r\n\r\n\t\t.logo_pic {\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t}\r\n\r\n\t// 改变select框样式\r\n\t:deep() {\r\n\t\t.uniui-bottom {\r\n\t\t\tfont-size: 24rpx !important;\r\n\t\t\tfont-weight: 700;\r\n\t\t}\r\n\r\n\t\t.uni-forms-item__content {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t\t.uni-easyinput__content {\r\n\t\t\tmin-height: 80rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.page {\r\n\t\tpadding-bottom: 100rpx;\r\n\r\n\t\t.settings {\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tmargin-top: 32rpx;\r\n\t\t\twidth: 688rpx;\r\n\t\t\tpadding: 0 32rpx;\r\n\t\t\tpadding-top: 40rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tbackground: rgba(255, 255, 255, 0.7);\r\n\t\t\tcolor: #000 !important;\r\n\t\t}\r\n\r\n\t\t.button_area {\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tmargin-top: 66rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\tgap: 40rpx;\r\n\r\n\t\t\tbutton {\r\n\t\t\t\twidth: 300rpx;\r\n\t\t\t\theight: 72rpx;\r\n\t\t\t\tline-height: 72rpx;\r\n\t\t\t\tborder-radius: 60rpx;\r\n\t\t\t\tbox-shadow: 4rpx 2rpx 8rpx #eceefe;\r\n\t\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t\t&:first-child {\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:nth-child(2) {\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tbackground: linear-gradient(to right, #3051f5, #893afb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/UEDAIminiprogram/pages/user/recognise/recognise.vue'\nwx.createPage(MiniProgramPage)"],"names":["useVerifyStore","uni","ref"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqEC,UAAM,cAAcA,aAAAA,eAAgB;AACpC,UAAM,aAAa,MAAM;AACxBC,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,QACP,UAAU,CAAC,YAAY;AAAA,QACvB,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AAEjB,mBAAS,MAAM,OAAO,IAAI,cAAc,CAAC;AAAA,QACzC;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,SAAA,4CAAc,aAAa,GAAG;AAC9BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AAED,UAAM,gBAAgB,MAAM;AAC3BA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,QACP,UAAU,CAAC,YAAY;AAAA,QACvB,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AAEjB,mBAAS,MAAM,UAAU,IAAI,cAAc,CAAC;AAAA,QAC5C;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,SAAA,6CAAc,aAAa,GAAG;AAC9BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AAGD,UAAM,cAAc,CAAC,SAAS;AAC7BA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS,QAAQ,SAAS,SAAS,SAAS,MAAM;AAAA,QAClD,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChB,qBAAS,MAAM,IAAI,IAAI;AAAA,UACvB;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AACD,UAAM,UAAUC,cAAAA,IAAK;AAGrB,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACpB,MAAM;AAAA,MACN,aAAa;AAAA,MACb,eAAe;AAAA,MACf,SAAS;AAAA,MACT,eAAe;AAAA,MACf,gBAAgB;AAAA,IAClB,CAAE;AAGD,UAAM,iBAAiBA,cAAAA,IAAI;AAAA,MAAC;AAAA,QAC1B,OAAO;AAAA,QACP,MAAM;AAAA,MACN;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,MAAM;AAAA,MACN;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,MAAM;AAAA,MACN;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,MAAM;AAAA,MACN;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,MAAM;AAAA,MACN;AAAA,IACH,CAAE;AAGD,UAAM,QAAQ;AAAA,MACb,MAAM;AAAA,QACL,OAAO,CAAC;AAAA,UACP,UAAU;AAAA,UACV,cAAc;AAAA,QAClB,CAAI;AAAA,MACD;AAAA,MACD,aAAa;AAAA,QACZ,OAAO;AAAA,UAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UACd;AAAA,UACD;AAAA,YACC,UAAU,CAAC,UAAU;AACpB,kBAAI,CAAC;AAAO,uBAAO;AACnB,kBAAI,MAAM,SAAS,IAAI;AACtB,uBAAO;AAAA,cACP;AACD,kBAAI,gBAAgB,KAAK,KAAK,GAAG;AAChC,uBAAO;AAAA,cACP;AACD,qBAAO;AAAA,YACP;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,MACD,eAAe;AAAA,QACd,OAAO,CAAC;AAAA,UACP,UAAU;AAAA,UACV,cAAc;AAAA,QAClB,CAAI;AAAA,MACD;AAAA,MACD,SAAS;AAAA,QACR,OAAO,CAAC;AAAA,UACP,UAAU;AAAA,UACV,cAAc;AAAA,QAClB,CAAI;AAAA,MACD;AAAA,MACD,eAAe;AAAA,QACd,OAAO;AAAA,UAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UACd;AAAA,UACD;AAAA,YACC,SAAS;AAAA,YACT,cAAc;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,MACD,gBAAgB;AAAA,QACf,OAAO,CAAC;AAAA,UACP,UAAU;AAAA,UACV,cAAc;AAAA,QAClB,CAAI;AAAA,MACD;AAAA,IACD;AAGD,UAAM,aAAa,YAAY;AAC9B,UAAI;AAEH,cAAM,WAAW,MAAM,QAAQ,MAAM,SAAU;AAC/CD,sBAAAA,MAAY,MAAA,OAAA,6CAAA,QAAQ,QAAQ;AAG5BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD,oBAAY,WAAW;AACvBA,sBAAAA,MAAI,aAAc;AAClBA,sBAAA,MAAA,MAAA,OAAA,6CAAY,SAAS,SAAS,KAAK;AAAA,MAEnC,SAAQ,KAAK;AACbA,sBAAAA,MAAA,MAAA,OAAA,6CAAY,WAAW,GAAG;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,IAAI,CAAC,EAAE;AAAA,UACd,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAGD,UAAM,YAAY,MAAM;AACvB,eAAS,QAAQ;AACjBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACT,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpPF,GAAG,WAAW,eAAe;"}